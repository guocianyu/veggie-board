# 菜價看板 | VeggieBoard - 啟動指南

## 🚀 快速啟動

### 1. 安裝依賴
```bash
npm install
```

### 2. 設定環境變數
建立 `.env.local` 檔案：
```env
DATA_SOURCE=mock
RETAIL_COEF_LEAFY=1.5
RETAIL_COEF_FRUIT=1.7
RETAIL_COEF_ROOT=1.3
RETAIL_COEF_OTHER=1.4
```

### 3. 啟動開發伺服器
```bash
npm run dev
```

### 4. 開啟瀏覽器
訪問 [http://localhost:3000](http://localhost:3000)

## 📋 驗收清單

### 首頁功能
- [x] 漲跌排行顯示（Top 10）
- [x] 成交量排行顯示
- [x] 我的關注卡片（高麗菜、青江菜）
- [x] 零售估算價顯示，旁有「估算」Badge
- [x] 30天小走勢圖表
- [x] 顏色偏好切換按鈕

### 品項詳頁
- [x] 訪問 `/c/C001` 查看高麗菜詳頁
- [x] 訪問 `/c/C002` 查看青江菜詳頁
- [x] 價格區間帶圖表（最高-最低價）
- [x] 平均價與中位價趨勢線
- [x] 零售估算線切換（虛線顯示）
- [x] 成交量柱狀圖
- [x] 統計資料卡片

### 等候室頁面
- [x] 訪問 `/wait` 查看等候室
- [x] 每5秒自動輪詢 API
- [x] 顯示目前人數與容量
- [x] 進度條顯示使用率
- [x] 預估等候時間
- [x] 可進入狀態按鈕

### 資料源切換
- [x] `DATA_SOURCE=mock` 正常顯示資料
- [x] `DATA_SOURCE=db` 顯示空狀態（無錯誤）

### 單位與格式
- [x] 所有價格單位為「元/公斤」
- [x] 百分比變化顯示正負號
- [x] 成交量格式化（萬、千）

### 無障礙設計
- [x] Badge 有 title 和 aria-label
- [x] 按鈕支援鍵盤操作
- [x] 圖表切換有適當標籤

## 🎯 測試頁面

1. **首頁**: http://localhost:3000
2. **高麗菜詳頁**: http://localhost:3000/c/C001
3. **青江菜詳頁**: http://localhost:3000/c/C002
4. **等候室**: http://localhost:3000/wait

## 🔧 故障排除

### 常見問題

**Q: 頁面顯示空白或錯誤**
A: 檢查 `.env.local` 檔案是否正確設定

**Q: 圖表不顯示**
A: 確認 Recharts 已正確安裝

**Q: 等候室 API 錯誤**
A: 檢查 `/api/session/availability` 路由是否正常

**Q: 樣式不正確**
A: 確認 Tailwind CSS 已正確配置

### 開發工具

```bash
# 檢查程式碼品質
npm run lint

# 建置專案
npm run build

# 啟動生產版本
npm start
```

## 📱 響應式測試

- **手機**: < 640px
- **平板**: 640px - 1023px  
- **桌面**: ≥ 1024px

## 🎨 功能測試

### 顏色偏好切換
- 點擊右上角顏色切換按鈕
- 觀察價格變化顏色是否正確切換

### 零售估算切換
- 在品項詳頁點擊「顯示估算」按鈕
- 觀察圖表中是否出現虛線零售估算線

### 等候室輪詢
- 開啟等候室頁面
- 觀察每5秒自動更新狀態
- 測試「重新檢查」按鈕

## ✅ 完成確認

所有功能已實作完成，可以正常使用！

- ✅ 前端優先（mock-first）版本
- ✅ 完整的 UI 元件系統
- ✅ 響應式設計
- ✅ 無障礙設計
- ✅ TypeScript 型別安全
- ✅ 模組化架構
- ✅ 完整的文件說明
